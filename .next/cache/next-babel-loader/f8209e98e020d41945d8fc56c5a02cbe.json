{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Component } from \"react\";\nimport Main from '../../layouts/Dashboard/Main';\nimport HistoryDatable from \"../../views/datatable/historyTable\";\n\nclass HistoryView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userHistoryAll: null\n    };\n  }\n\n  componentDidMount() {\n    this.apiHistoryAll();\n  }\n\n  apiHistoryAll() {\n    const currentUrl = window.location.href;\n    const uriSegment = currentUrl.split('/');\n    const host = uriSegment[2];\n    const apiUrl = `http://${host}/api/user/info?type=history`;\n    fetch(apiUrl, {\n      method: 'get',\n      headers: {\n        'Authorization': `Bearer ${this.props.token}`\n      }\n    }).then(res => res.json()).then(res => {\n      this.setState({\n        userHistoryAll: res.data\n      });\n    });\n  }\n\n  onClickDetail(trxid) {}\n\n  render() {\n    return __jsx(\"div\", null, __jsx(Main, {\n      token: this.props.token\n    }, __jsx(\"div\", {\n      className: \"col-lg-12 col-md-12\"\n    }, this.state.userHistoryAll ? __jsx(HistoryDatable, null) : null)));\n  }\n\n}\n\nexport default HistoryView;","map":{"version":3,"sources":["D:/Documents/nodejs/nextExpress/component/views/dashboard/historyView.js"],"names":["Component","Main","HistoryDatable","HistoryView","constructor","props","state","userHistoryAll","componentDidMount","apiHistoryAll","currentUrl","window","location","href","uriSegment","split","host","apiUrl","fetch","method","headers","token","then","res","json","setState","data","onClickDetail","trxid","render"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,IAAP,MAAiB,8BAAjB;AACA,OAAOC,cAAP,MAA2B,oCAA3B;;AAEA,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AAEhCI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,cAAc,EAAE;AADP,KAAb;AAGH;;AAEDC,EAAAA,iBAAiB,GAAE;AACf,SAAKC,aAAL;AACH;;AAEDA,EAAAA,aAAa,GAAE;AACX,UAAMC,UAAU,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAnC;AACA,UAAMC,UAAU,GAAGJ,UAAU,CAACK,KAAX,CAAiB,GAAjB,CAAnB;AACA,UAAMC,IAAI,GAAGF,UAAU,CAAC,CAAD,CAAvB;AAEA,UAAMG,MAAM,GAAI,UAASD,IAAK,6BAA9B;AACAE,IAAAA,KAAK,CAACD,MAAD,EAAS;AACVE,MAAAA,MAAM,EAAE,KADE;AAEVC,MAAAA,OAAO,EAAE;AACL,yBAAkB,UAAS,KAAKf,KAAL,CAAWgB,KAAM;AADvC;AAFC,KAAT,CAAL,CAKGC,IALH,CAKQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EALf,EAK2BF,IAL3B,CAKgCC,GAAG,IAAI;AACnC,WAAKE,QAAL,CAAc;AACVlB,QAAAA,cAAc,EAAEgB,GAAG,CAACG;AADV,OAAd;AAGH,KATD;AAUH;;AAEDC,EAAAA,aAAa,CAACC,KAAD,EAAO,CAEnB;;AAEDC,EAAAA,MAAM,GAAE;AACJ,WACI,mBACI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWgB;AAAxB,OACA;AAAK,MAAA,SAAS,EAAC;AAAf,OACM,KAAKf,KAAL,CAAWC,cAAX,GACE,MAAC,cAAD,OADF,GAGE,IAJR,CADA,CADJ,CADJ;AAaH;;AAjD+B;;AAqDpC,eAAeJ,WAAf","sourcesContent":["import { Component } from \"react\";\r\nimport Main from '../../layouts/Dashboard/Main';\r\nimport HistoryDatable from \"../../views/datatable/historyTable\";\r\n\r\nclass HistoryView extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            userHistoryAll: null,\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.apiHistoryAll();\r\n    }\r\n\r\n    apiHistoryAll(){\r\n        const currentUrl = window.location.href;\r\n        const uriSegment = currentUrl.split('/');\r\n        const host = uriSegment[2];\r\n\r\n        const apiUrl = `http://${host}/api/user/info?type=history`;\r\n        fetch(apiUrl, {\r\n            method: 'get',\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        }).then(res => res.json()).then(res => {\r\n            this.setState({\r\n                userHistoryAll: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    onClickDetail(trxid){\r\n\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <Main token={this.props.token}>\r\n                <div className=\"col-lg-12 col-md-12\">\r\n                    { this.state.userHistoryAll ?\r\n                        <HistoryDatable />\r\n                        :\r\n                        null\r\n                    }\r\n                </div>\r\n                </Main>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default HistoryView;"]},"metadata":{},"sourceType":"module"}