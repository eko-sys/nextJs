{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Component } from \"react\";\nimport Main from '../../layouts/Dashboard/Main';\nimport HistoryDatable from \"../../views/datatable/historyTable\";\n\nclass HistoryView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userHistoryAll: null\n    };\n  }\n\n  componentDidMount() {\n    this.apiHistoryAll();\n  }\n\n  apiHistoryAll() {\n    const currentUrl = window.location.href;\n    const uriSegment = currentUrl.split('/');\n    const host = uriSegment[2];\n    const apiUrl = `http://${host}/api/user/info?type=history`;\n    fetch(apiUrl, {\n      method: 'get',\n      headers: {\n        'Authorization': `Bearer ${this.props.token}`\n      }\n    }).then(res => res.json()).then(res => {\n      this.setState({\n        userHistoryAll: res.data\n      });\n    });\n  }\n\n  onClickDetail(trxid) {}\n\n  render() {\n    return __jsx(\"div\", null, __jsx(Main, {\n      token: this.props.token\n    }, __jsx(\"div\", {\n      className: \"col-lg-12 col-md-12\"\n    }, this.state.userHistoryAll ? __jsx(HistoryDatable, {\n      data: this.state.userHistoryAll\n    }) : null)));\n  }\n\n}\n\nexport default HistoryView;","map":null,"metadata":{},"sourceType":"module"}